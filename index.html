<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>MLA Practice: Quote + Paraphrase + Cite (2 Sources)</title>
  <style>
    :root{
      --bg: #f4f9ff;
      --bg2:#f6fff8;
      --card:#ffffff;

      --text:#1f2a44;
      --muted:#55657f;

      --line:#dbe7f5;

      --blue:#4f8cff;
      --mint:#46c6a7;
      --sun:#ffd36e;
      --pink:#ff9bb2;

      --good:#1a9b4a;
      --warn:#c77900;
      --bad:#cc2b2b;

      --shadow: 0 10px 24px rgba(31,42,68,.10);
      --radius: 18px;

      --focus: 0 0 0 4px rgba(79,140,255,.25);
    }

    *{box-sizing:border-box}

    body{
      margin:0;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      color:var(--text);
      background:
        radial-gradient(900px 500px at 10% 0%, rgba(79,140,255,.14), transparent 60%),
        radial-gradient(900px 500px at 90% 0%, rgba(70,198,167,.14), transparent 60%),
        linear-gradient(180deg, var(--bg), var(--bg2));
    }

    .wrap{max-width:900px; margin:0 auto; padding:18px 14px 42px}

    header{
      background: rgba(255,255,255,.75);
      border:1px solid var(--line);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      padding: 16px 16px 14px;
      backdrop-filter: blur(8px);
    }

    h1{
      margin:0 0 8px;
      font-size: 22px;
      letter-spacing:.2px;
    }

    .lead{
      margin:0;
      color:var(--muted);
      line-height:1.5;
      font-size:14px;
    }

    .pillrow{
      display:flex;
      flex-wrap:wrap;
      gap:8px;
      margin-top:12px;
    }
    .pill{
      background: rgba(255,255,255,.9);
      border:1px solid var(--line);
      border-radius:999px;
      padding:6px 10px;
      font-size:13px;
      color:var(--muted);
      display:inline-flex;
      align-items:center;
      gap:8px;
    }
    .dot{width:10px;height:10px;border-radius:999px;background:var(--sun)}
    .dot.blue{background:var(--blue)}
    .dot.mint{background:var(--mint)}
    .dot.pink{background:var(--pink)}

    .progressbox{
      margin-top: 12px;
      padding: 10px 12px;
      border:1px solid var(--line);
      border-radius: 14px;
      background: rgba(255,255,255,.85);
    }
    .progresstop{
      display:flex;
      justify-content:space-between;
      align-items:center;
      gap:10px;
      color:var(--muted);
      font-size:13px;
      margin-bottom:8px;
    }
    .bar{
      width:100%;
      height:10px;
      border-radius:999px;
      background: rgba(31,42,68,.08);
      overflow:hidden;
    }
    .bar > div{
      height:100%;
      width:0%;
      background: linear-gradient(90deg, var(--blue), var(--mint));
      border-radius:999px;
      transition: width .25s ease;
    }

    .card{
      margin-top:14px;
      background: rgba(255,255,255,.85);
      border:1px solid var(--line);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      padding: 16px;
      backdrop-filter: blur(8px);
    }

    h2{
      margin:0 0 6px;
      font-size: 18px;
    }
    .sub{
      margin:0 0 12px;
      color:var(--muted);
      line-height:1.5;
      font-size:14px;
    }

    a{color:var(--blue); text-decoration:none}
    a:hover{text-decoration:underline}

    .sources{
      margin: 10px 0 0;
      padding-left: 18px;
      color: var(--muted);
    }
    .sources li{margin:10px 0}

    label{
      display:block;
      margin: 10px 0 6px;
      font-size: 13px;
      font-weight: 700;
      color: var(--muted);
    }

    textarea, input, select{
      width:100%;
      border:1px solid var(--line);
      border-radius: 14px;
      background:#fff;
      color: var(--text);
      padding: 10px 10px;
      font-size: 14px;
      outline:none;
    }
    textarea{min-height:110px; resize:vertical}

    textarea:focus, input:focus, select:focus, button:focus{
      box-shadow: var(--focus);
      border-color: rgba(79,140,255,.55);
    }

    .row{
      display:grid;
      gap:10px;
      grid-template-columns: 1fr;
    }
    @media (min-width: 820px){
      .row.two{grid-template-columns: 1fr 1fr;}
    }

    .btnrow{
      display:flex;
      gap:10px;
      flex-wrap:wrap;
      margin-top: 12px;
    }
    button{
      border:0;
      border-radius: 14px;
      padding: 11px 14px;
      font-weight: 800;
      cursor:pointer;
      color:#fff;
      background: linear-gradient(135deg, var(--blue), var(--mint));
      box-shadow: 0 10px 18px rgba(79,140,255,.18);
      transition: transform .08s ease, filter .2s ease;
    }
    button:hover{filter: brightness(1.03)}
    button:active{transform: translateY(1px)}
    button.secondary{
      background: rgba(31,42,68,.72);
      box-shadow: 0 10px 18px rgba(31,42,68,.14);
    }
    button.ghost{
      background: rgba(255,255,255,.95);
      color: var(--text);
      border: 1px solid var(--line);
      box-shadow:none;
    }

    .statusrow{
      display:flex;
      flex-wrap:wrap;
      gap:10px;
      margin-top: 10px;
    }
    .badge{
      background: rgba(255,255,255,.95);
      border:1px solid var(--line);
      border-radius:999px;
      padding: 7px 10px;
      font-size: 13px;
      color: var(--muted);
      display:inline-flex;
      align-items:center;
      gap:8px;
    }
    .smalldot{width:10px;height:10px;border-radius:999px;background:var(--sun)}
    .smalldot.good{background: var(--good)}
    .smalldot.warn{background: var(--warn)}
    .smalldot.bad{background: var(--bad)}

    .mono{
      font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
    }

    .checklist{
      margin: 10px 0 0;
      padding-left: 18px;
      color: var(--muted);
    }
    .checklist li{margin: 8px 0}
    .ok{color: var(--good); font-weight: 800}
    .warn{color: var(--warn); font-weight: 800}
    .no{color: var(--bad); font-weight: 800}

    .hide{display:none !important}

    .footerhint{
      margin-top: 10px;
      color: var(--muted);
      font-size: 12px;
      line-height:1.5;
    }

    .box{
      border:1px solid var(--line);
      background: rgba(255,255,255,.9);
      border-radius: 14px;
      padding: 12px;
      color: var(--muted);
      font-size: 14px;
      line-height: 1.5;
    }
    .minihead{
      font-weight: 900;
      color: var(--text);
      margin-bottom: 6px;
    }
  </style>
</head>

<body>
  <div class="wrap">
    <header>
      <h1>MLA Practice: Quote + Paraphrase + Cite (2 Sources)</h1>
      <p class="lead">
        You will first walk through an example, then you will write your own paragraph.
      </p>

      <div class="pillrow">
        <span class="pill"><span class="dot blue"></span>1 quote</span>
        <span class="pill"><span class="dot mint"></span>2 paraphrases</span>
        <span class="pill"><span class="dot"></span>3 citations</span>
        <span class="pill"><span class="dot pink"></span>Works Cited</span>
      </div>

      <div class="progressbox">
        <div class="progresstop">
          <span id="stepLabel">Page 1 of 6</span>
          <span id="stepTitle">Start here</span>
        </div>
        <div class="bar"><div id="barFill"></div></div>
      </div>
    </header>

    <!-- PAGE 1 -->
    <section class="card" id="p1">
      <h2>Page 1: What you are doing</h2>
      <p class="sub">
        You will write one paragraph (8–10 sentences) using information from sources. You will practice:
        quoting, paraphrasing, and citing.
      </p>

      <div class="box">
        <div class="minihead">Non-negotiable rule</div>
        If you learned it from a source, you must cite it (even if you paraphrase).
      </div>

      <ul class="checklist">
        <li>1 direct quote (with quotation marks)</li>
        <li>2 paraphrases (one from each source)</li>
        <li>3 in-text citations total (one after each quote/paraphrase)</li>
        <li>A Works Cited that matches</li>
      </ul>

      <div class="btnrow">
        <button id="toP2">Start the example (EMT)</button>
      </div>
    </section>

    <!-- PAGE 2: Example sources -->
    <section class="card hide" id="p2">
      <h2>Page 2: Example (EMT) — open the 2 sources</h2>
      <p class="sub">
        Click each link. Skim for job duties, work conditions, and licensing rules.
      </p>

      <ol class="sources">
        <li>
          <strong>Example Source 1 (BLS)</strong><br />
          <a target="_blank" rel="noopener"
             href="https://www.bls.gov/ooh/healthcare/emts-and-paramedics.htm">
            EMTs and Paramedics — Occupational Outlook Handbook
          </a>
        </li>

        <li>
          <strong>Example Source 2 (CareerOneStop — License, WA)</strong><br />
          <a target="_blank" rel="noopener"
             href="https://www.careeronestop.org/Toolkit/Training/find-licenses-detail.aspx?keyword=emt&location=WA&lang=en&licenseId=53-L48">
            Emergency Medical Technician (WA) — license details
          </a>
        </li>
      </ol>

      <p class="footerhint">
        Keep it simple: you are just looking for useful facts you could use in a paragraph.
      </p>

      <div class="btnrow">
        <button class="ghost" id="backP2">Back</button>
        <button id="toP3">Next: Read the model paragraph</button>
      </div>
    </section>

    <!-- PAGE 3: Example model paragraph + citation guidance + example WC -->
    <section class="card hide" id="p3">
      <h2>Page 3: Example (EMT) — model paragraph</h2>
      <p class="sub">
        Read this once. Notice how each quote or paraphrase ends with a citation in parentheses.
      </p>

      <label for="modelPara">Model paragraph (example)</label>
      <textarea id="modelPara" class="mono" readonly>Being an EMT or paramedic means dealing with emergencies and helping people right away. The Bureau of Labor Statistics says EMTs and paramedics “provide emergency medical care” and sometimes also transport patients to medical facilities (Bureau of Labor Statistics). The BLS also explains that the job can be stressful and physically hard, and that workers may have to work nights, weekends, and holidays (Bureau of Labor Statistics). To enter this field, people usually need training after high school, and every state requires EMTs and paramedics to be licensed (Bureau of Labor Statistics). In Washington, the CareerOneStop license page explains that EMTs need the correct state credential and must meet state requirements to earn and keep that credential active (CareerOneStop). Becoming an EMT is not just about wanting to help people; you also need training and the right licensing steps to qualify for the work.</textarea>

      <div class="box" style="margin-top:12px;">
        <div class="minihead">Simple MLA in-text citations for these web sources</div>
        Use the organization name in parentheses:
        <ul class="checklist">
          <li>BLS: <span class="mono">(Bureau of Labor Statistics)</span></li>
          <li>CareerOneStop: <span class="mono">(CareerOneStop)</span></li>
        </ul>
        Rule: what you put in parentheses should match your Works Cited.
      </div>

      <label for="modelWC">Example Works Cited (copyable)</label>
      <textarea id="modelWC" class="mono" readonly></textarea>

      <div class="btnrow">
        <button class="ghost" id="backP3">Back</button>
        <button id="toP4">Next: Your turn (Professor sources)</button>
      </div>
    </section>

    <!-- PAGE 4: Your turn prompt + sources -->
    <section class="card hide" id="p4">
      <h2>Page 4: Your turn — open the 2 sources</h2>
      <p class="sub">
        Your goal: write one paragraph (8–10 sentences) explaining what these sources show about:
        <strong>the postsecondary teacher role/work conditions</strong> and <strong>certification expectations</strong>.
      </p>

      <div class="box">
        <div class="minihead">You must include</div>
        <ul class="checklist">
          <li>1 direct quote (with quotation marks)</li>
          <li>2 paraphrases (one from each source)</li>
          <li>3 in-text citations total (one after each quote/paraphrase)</li>
          <li>A matching Works Cited</li>
        </ul>
      </div>

      <ol class="sources">
        <li>
          <strong>Source 1 (BLS)</strong><br />
          <a target="_blank" rel="noopener"
             href="https://www.bls.gov/ooh/education-training-and-library/postsecondary-teachers.htm">
            Postsecondary Teachers — Occupational Outlook Handbook
          </a>
        </li>

        <li>
          <strong>Source 2 (CareerOneStop — Certification)</strong><br />
          <a target="_blank" rel="noopener"
             href="https://www.careeronestop.org/Toolkit/Training/find-certifications.aspx?keyword=post%20secondary&ajax=0&direct=0&lang=en&certid=13771-A">
            Certified Postsecondary Instructor (CPI)
          </a>
        </li>
      </ol>

      <div class="btnrow">
        <button class="ghost" id="backP4">Back</button>
        <button id="toP5">Next: Collect your quote + paraphrases</button>
      </div>
    </section>

    <!-- PAGE 5: Evidence collection -->
    <section class="card hide" id="p5">
      <h2>Page 5: Collect your evidence</h2>
      <p class="sub">
        Put your information into the boxes. After each quote/paraphrase, add a citation in parentheses.
      </p>

      <label for="quoteText">1) Direct quote (exact words, include quotation marks)</label>
      <textarea id="quoteText" placeholder='Paste a quote like: “...”'></textarea>

      <div class="row two">
        <div>
          <label for="quoteSource">Quote source</label>
          <select id="quoteSource">
            <option value="BLS">Source 1 (BLS)</option>
            <option value="COS">Source 2 (CareerOneStop CPI)</option>
          </select>
        </div>
        <div>
          <label for="quoteCite">Citation for the quote (in parentheses)</label>
          <input id="quoteCite" placeholder="Example: (Bureau of Labor Statistics) OR (CareerOneStop)" />
        </div>
      </div>

      <label for="para1">2) Paraphrase #1 (from BLS, your own words)</label>
      <textarea id="para1" placeholder="Explain one important idea from BLS in your own words."></textarea>

      <label for="para1Cite">Citation for paraphrase #1</label>
      <input id="para1Cite" placeholder="Example: (Bureau of Labor Statistics)" />

      <label for="para2">3) Paraphrase #2 (from CareerOneStop CPI, your own words)</label>
      <textarea id="para2" placeholder="Explain one important idea from CareerOneStop CPI in your own words."></textarea>

      <label for="para2Cite">Citation for paraphrase #2</label>
      <input id="para2Cite" placeholder="Example: (CareerOneStop)" />

      <div class="statusrow">
        <div class="badge"><span class="smalldot" id="evidenceDot"></span><span id="evidenceStatus">Evidence: not ready yet</span></div>
      </div>

      <div class="btnrow">
        <button class="ghost" id="backP5">Back</button>
        <button id="buildBtn">Build my paragraph</button>
        <button class="secondary" id="toP6">Next: Final copy + checklist</button>
      </div>

      <p class="footerhint">
        Paraphrase tip: do not copy the sentence and swap a few words. Say the idea in a fresh way.
      </p>
    </section>

    <!-- PAGE 6: Final copy -->
    <section class="card hide" id="p6">
      <h2>Page 6: Final copy box</h2>
      <p class="sub">
        Click “Build my paragraph” if you have not yet. Then copy your paragraph and Works Cited.
      </p>

      <label for="finalPara">Your paragraph (you can edit it)</label>
      <textarea id="finalPara" class="mono" placeholder="Click “Build my paragraph” to generate."></textarea>

      <div class="statusrow">
        <div class="badge"><span class="smalldot" id="sentDot"></span><span id="sentStatus">Sentences: 0 (goal 8–10)</span></div>
        <div class="badge"><span class="smalldot" id="citeDot"></span><span id="citeStatus">Citations: 0/3 minimum</span></div>
      </div>

      <div class="row two" style="margin-top:12px;">
        <div>
          <label for="accessDate">Access date (auto-filled)</label>
          <input id="accessDate" />
        </div>
        <div>
          <label for="studentName">Your name (optional)</label>
          <input id="studentName" placeholder="Name" />
        </div>
      </div>

      <label for="wcBlock">Works Cited (copy this too)</label>
      <textarea id="wcBlock" class="mono" placeholder="Click “Build Works Cited”"></textarea>

      <div class="btnrow">
        <button id="buildWCBtn">Build Works Cited</button>
        <button class="secondary" id="copyWCBtn">Copy Works Cited</button>
      </div>

      <label for="finalCopy">FINAL COPY (paragraph + Works Cited together)</label>
      <textarea id="finalCopy" class="mono" placeholder="Click “Build FINAL copy”"></textarea>

      <div class="btnrow">
        <button id="buildFinalBtn">Build FINAL copy</button>
        <button class="secondary" id="copyFinalBtn">Copy FINAL copy</button>
        <button class="ghost" id="backP6">Back</button>
      </div>

      <h2 style="margin-top:14px;">Checklist</h2>
      <ul class="checklist" id="checklist">
        <li>Has a quote with quotation marks <span id="chkQuote" class="warn">(not checked yet)</span></li>
        <li>Has 2 paraphrases <span id="chkParas" class="warn">(not checked yet)</span></li>
        <li>Has 3+ citations <span id="chkCites" class="warn">(not checked yet)</span></li>
        <li>Has 8–10 sentences <span id="chkSents" class="warn">(not checked yet)</span></li>
        <li>Has a Works Cited block <span id="chkWC" class="warn">(not checked yet)</span></li>
      </ul>

      <div class="btnrow">
        <button class="secondary" id="checkBtn">Check basics</button>
      </div>
    </section>

  </div>

  <script>
    // Safari-safe JS (no lookbehind regex, no optional chaining, no fancy features)
    function $(id){ return document.getElementById(id); }

    // ---------- Page navigation ----------
    var pages = [
      {id:"p1", label:"Page 1 of 6", title:"Start here", pct: 5},
      {id:"p2", label:"Page 2 of 6", title:"Example sources (EMT)", pct: 20},
      {id:"p3", label:"Page 3 of 6", title:"Example model paragraph", pct: 35},
      {id:"p4", label:"Page 4 of 6", title:"Your sources (Professor)", pct: 55},
      {id:"p5", label:"Page 5 of 6", title:"Collect evidence", pct: 75},
      {id:"p6", label:"Page 6 of 6", title:"Final copy + checklist", pct: 100}
    ];

    function showPage(n){
      for (var i=0; i<pages.length; i++){
        var el = $(pages[i].id);
        if (el) el.classList.toggle("hide", i !== n);
      }
      $("stepLabel").textContent = pages[n].label;
      $("stepTitle").textContent = pages[n].title;
      $("barFill").style.width = pages[n].pct + "%";
      window.scrollTo({top: 0, behavior: "smooth"});
    }

    $("toP2").addEventListener("click", function(){ showPage(1); });
    $("toP3").addEventListener("click", function(){ showPage(2); });
    $("toP4").addEventListener("click", function(){ showPage(3); });
    $("toP5").addEventListener("click", function(){ showPage(4); });
    $("toP6").addEventListener("click", function(){ showPage(5); });

    $("backP2").addEventListener("click", function(){ showPage(0); });
    $("backP3").addEventListener("click", function(){ showPage(1); });
    $("backP4").addEventListener("click", function(){ showPage(2); });
    $("backP5").addEventListener("click", function(){ showPage(3); });
    $("backP6").addEventListener("click", function(){ showPage(4); });

    // ---------- Helpers ----------
    function todayUS(){
      var d = new Date();
      var months = ["Jan.","Feb.","Mar.","Apr.","May","June","July","Aug.","Sept.","Oct.","Nov.","Dec."];
      return d.getDate() + " " + months[d.getMonth()] + " " + d.getFullYear();
    }

    // Safari-safe sentence counter (NO lookbehind)
    function countSentences(text){
      var cleaned = (text || "").replace(/\s+/g, " ").trim();
      if (!cleaned) return 0;

      // Count sentence endings. If none, count as 1 sentence.
      var matches = cleaned.match(/[.!?]+/g);
      var count = matches ? matches.length : 0;

      // If text has no punctuation but has words, treat it as 1 sentence.
      if (count === 0 && cleaned.length > 0) return 1;

      return count;
    }

    function countCitations(text){
      var m = (text || "").match(/\([^)]+\)/g);
      return m ? m.length : 0;
    }

    function setDot(el, state){
      el.classList.remove("good","warn","bad");
      if (state) el.classList.add(state);
    }

    function updateEvidenceStatus(){
      var quote = $("quoteText").value.trim();
      var quoteCite = $("quoteCite").value.trim();
      var p1 = $("para1").value.trim();
      var p1Cite = $("para1Cite").value.trim();
      var p2 = $("para2").value.trim();
      var p2Cite = $("para2Cite").value.trim();

      var ok = (quote && quoteCite && p1 && p1Cite && p2 && p2Cite);

      $("evidenceStatus").textContent = ok ? "Evidence: ready" : "Evidence: fill in every box";
      setDot($("evidenceDot"), ok ? "good" : "warn");
    }

    function updateBadges(){
      var text = $("finalPara").value;
      var sentCount = countSentences(text);
      var citeCount = countCitations(text);

      $("sentStatus").textContent = "Sentences: " + sentCount + " (goal 8–10)";
      $("citeStatus").textContent = "Citations: " + citeCount + "/3 minimum";

      if (sentCount === 0) setDot($("sentDot"), "warn");
      else if (sentCount >= 8 && sentCount <= 10) setDot($("sentDot"), "good");
      else setDot($("sentDot"), "bad");

      if (citeCount === 0) setDot($("citeDot"), "warn");
      else if (citeCount >= 3) setDot($("citeDot"), "good");
      else setDot($("citeDot"), "bad");
    }

    // ---------- Works Cited ----------
    function buildModelWorksCited(){
      var access = $("accessDate").value.trim() || todayUS();

      var mwc1 =
        "Bureau of Labor Statistics. “EMTs and Paramedics.” Occupational Outlook Handbook, U.S. Bureau of Labor Statistics, https://www.bls.gov/ooh/healthcare/emts-and-paramedics.htm. Accessed " + access + ".";

      var mwc2 =
        "CareerOneStop. “Emergency Medical Technician (WA).” License Finder, CareerOneStop, https://www.careeronestop.org/Toolkit/Training/find-licenses-detail.aspx?keyword=emt&location=WA&lang=en&licenseId=53-L48. Accessed " + access + ".";

      $("modelWC").value = mwc1 + "\n" + mwc2;
    }

    function buildWorksCitedDefaults(){
      var access = $("accessDate").value.trim() || todayUS();

      var wc1 =
        "Bureau of Labor Statistics. “Postsecondary Teachers.” Occupational Outlook Handbook, U.S. Bureau of Labor Statistics, https://www.bls.gov/ooh/education-training-and-library/postsecondary-teachers.htm. Accessed " + access + ".";

      var wc2 =
        "CareerOneStop. “Certified Postsecondary Instructor (CPI).” Certification Finder, CareerOneStop, https://www.careeronestop.org/Toolkit/Training/find-certifications.aspx?keyword=post%20secondary&ajax=0&direct=0&lang=en&certid=13771-A. Accessed " + access + ".";

      $("wcBlock").value = wc1 + "\n" + wc2;
    }

    // ---------- Final copy ----------
    function buildFinalCopy(){
      var para = ($("finalPara").value || "").trim();
      var wc = ($("wcBlock").value || "").trim();

      var block = para + "\n\nWorks Cited\n" + wc;
      $("finalCopy").value = block.trim();
    }

    // ---------- Build paragraph ----------
    function buildDraftParagraph(){
      var quote = $("quoteText").value.trim();
      var quoteCite = $("quoteCite").value.trim();
      var p1 = $("para1").value.trim();
      var p1Cite = $("para1Cite").value.trim();
      var p2 = $("para2").value.trim();
      var p2Cite = $("para2Cite").value.trim();

      var s = [];
      s.push("These sources explain what postsecondary teachers do and what people may need to qualify for this work.");
      if (quote){
        s.push(("One source says, " + quote + " " + quoteCite).trim() + ".");
      } else {
        s.push("One source includes a direct quote that explains an important part of the job.");
      }

      if (p1){
        s.push((p1 + " " + p1Cite).trim() + ".");
      } else {
        s.push("The BLS source explains job duties and working conditions for postsecondary teachers (Bureau of Labor Statistics).");
      }

      s.push("This helps because it shows what the day-to-day work can look like.");

      if (p2){
        s.push((p2 + " " + p2Cite).trim() + ".");
      } else {
        s.push("The certification source explains what a certification like CPI is and what it may involve (CareerOneStop).");
      }

      s.push("Certification information matters because it shows what training or proof of skill someone may need.");
      s.push("Overall, the sources suggest that being ready for this career means understanding the work and meeting real requirements.");
      s.push("When you combine evidence from multiple sources, your paragraph sounds more credible and more specific.");

      var draft = s.join(" ")
        .replace(/\s+\./g, ".")
        .replace(/\.\./g, ".")
        .replace(/\s{2,}/g, " ")
        .trim();

      $("finalPara").value = draft;
      buildWorksCitedDefaults();
      updateBadges();
      buildFinalCopy();
      showPage(5);
    }

    $("buildBtn").addEventListener("click", buildDraftParagraph);

    // ---------- Copy (Safari-safe fallback) ----------
    function copyToClipboard(value){
      if (navigator.clipboard && navigator.clipboard.writeText){
        navigator.clipboard.writeText(value).then(function(){
          alert("Copied!");
        }).catch(function(){
          fallbackCopy(value);
        });
      } else {
        fallbackCopy(value);
      }
    }

    function fallbackCopy(value){
      var tmp = document.createElement("textarea");
      tmp.value = value;
      document.body.appendChild(tmp);
      tmp.select();
      try { document.execCommand("copy"); } catch(e) {}
      document.body.removeChild(tmp);
      alert("Copied!");
    }

    $("copyWCBtn").addEventListener("click", function(){ copyToClipboard($("wcBlock").value); });
    $("copyFinalBtn").addEventListener("click", function(){ copyToClipboard($("finalCopy").value); });

    $("buildWCBtn").addEventListener("click", function(){
      buildWorksCitedDefaults();
      buildFinalCopy();
      alert("Works Cited built!");
    });

    $("buildFinalBtn").addEventListener("click", function(){
      buildFinalCopy();
      alert("FINAL copy built!");
    });

    $("finalPara").addEventListener("input", function(){
      updateBadges();
      buildFinalCopy();
    });

    // ---------- Checklist ----------
    function runChecklist(){
      var quote = $("quoteText").value.trim();
      var p1 = $("para1").value.trim();
      var p2 = $("para2").value.trim();
      var paraText = $("finalPara").value.trim();
      var wc = $("wcBlock").value.trim();

      var hasQuoteMarks = (quote.indexOf("“") !== -1) || (quote.indexOf("”") !== -1) || (quote.indexOf("\"") !== -1);
      var hasQuote = quote.length > 0 && hasQuoteMarks;

      var hasParas = (p1.length > 0 && p2.length > 0);

      var cites = countCitations(paraText);
      var hasCites = cites >= 3;

      var sentCount = countSentences(paraText);
      var hasSentRange = sentCount >= 8 && sentCount <= 10;

      var hasWC = wc.length > 0;

      $("chkQuote").textContent = hasQuote ? "(ok)" : "(add quotation marks)";
      $("chkQuote").className = hasQuote ? "ok" : "no";

      $("chkParas").textContent = hasParas ? "(ok)" : "(need 2 paraphrases)";
      $("chkParas").className = hasParas ? "ok" : "no";

      $("chkCites").textContent = hasCites ? "(ok)" : "(need 3+; you have " + cites + ")";
      $("chkCites").className = hasCites ? "ok" : "no";

      $("chkSents").textContent = hasSentRange ? "(ok)" : "(goal 8–10; you have " + sentCount + ")";
      $("chkSents").className = hasSentRange ? "ok" : "no";

      $("chkWC").textContent = hasWC ? "(ok)" : "(click Build Works Cited)";
      $("chkWC").className = hasWC ? "ok" : "no";

      updateBadges();
      buildFinalCopy();
    }

    $("checkBtn").addEventListener("click", runChecklist);

    // Evidence live status listeners
    var ids = ["quoteText","quoteCite","para1","para1Cite","para2","para2Cite","quoteSource"];
    for (var i=0; i<ids.length; i++){
      (function(id){
        var el = $(id);
        if (!el) return;
        el.addEventListener("input", updateEvidenceStatus);
        el.addEventListener("change", updateEvidenceStatus);
      })(ids[i]);
    }

    // ---------- Init ----------
    $("accessDate").value = todayUS();
    buildModelWorksCited();
    buildWorksCitedDefaults();
    updateEvidenceStatus();
    updateBadges();
    buildFinalCopy();
    showPage(0);
  </script>
</body>
</html>
